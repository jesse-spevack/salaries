<%= content_tag(
  :div,
  tabindex: "1",
  data: {
    action: "select-event@window->profile-row#post",
    controller: "profile-row",
    profile_row_item_value: @item,
    profile_row_item_id_value: @item_id,
    profile_row_attribute_value: @attribute,
    profile_row_path_value: @path,
    profile_row_hidden_class: "hidden"
  }
) do %>
  <%= content_tag(:div, class: "my-5 border-t border-gray-200") do %>
    <%= render(
      TitleDetailButtonComponent.new(
        button_action: "profile-row#toggleForm",
        button_text: "Update",
        controller: "profile-row",
        title: @title,
        detail_target: "item",
        target: "show",
        detail: @item 
      )
    ) %>
  <% end %>
    <%= content_tag(:dl, class: "hidden my-5", data: { profile_row_target: "form"}) do %>
      <%= content_tag(:div, class: "sm:grid sm:grid-cols-3 sm:gap-4") do %>
        <%= content_tag(:dt, "Graduation year", class: "text-sm font-medium text-gray-500") %>
          <%= content_tag(:dd, class: "mt-1 flex text-sm text-gray-900 sm:mt-0 sm:col-span-2") do %>
            <%= content_tag(:span, class: "flex-grow") do %>
              <%= content_tag(:div, class: "w-full max-w-xs") do %>
                <%= render(SelectComponent.new(title: @title, select_text: @item, collection: @collection)) %>
              <% end %>
            <% end %>
          <%= content_tag(:span, class: "ml-4flex-shrink-0") do %>
            <%= render(CleanButtonComponent.new(text: "Cancel", action: "profile-row#toggleForm")) %>
          <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
